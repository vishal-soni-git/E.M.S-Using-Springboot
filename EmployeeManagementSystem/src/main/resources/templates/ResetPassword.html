<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reset Password</title>
    <link rel="stylesheet" th:href="@{/css/style.css}" />
</head>
<body style="background-color: #b9c1f1">
    <div class='main'>
        <div class="text">Reset Password</div>
        <div class='resetPassword'>
            <form class='resetPasswordForm' 
            th:action="@{/employee/resetpasswordProcess}" 
            method='post'>
      
          <label>Old Password</label>
          <input type="password" name='oldPassword' class="inputT" placeholder='Old Password' required><br>
      
          <label>New Password</label>
          <input type="password" id='newPassword' name='newPassword' class="inputT" placeholder='New Password' required><br>
      
          <label>Confirm Password</label>
          <input type="password" id='confirmPassword' name='confirmPassword' class="inputT" placeholder='Confirm Password' required
                 onkeyup="checkPasswordMatch()">
          <br>
          <!-- Error message display next to Confirm Password -->
          <span id="error-message" style="color: red; display: none;">Passwords do not match!</span>
      
          <br><br>
          <button class='bttn' type="submit" id="submitBtn" disabled>Submit</button>
      </form>
        </div>
    </div>

    
<script>
    function checkPasswordMatch() {
        const newPassword = document.getElementById('newPassword').value;
        const confirmPassword = document.getElementById('confirmPassword').value;
        const errorMessage = document.getElementById('error-message');
        const submitBtn = document.getElementById('submitBtn');

        if (newPassword === confirmPassword && newPassword !== "") {
            errorMessage.style.display = 'none';
            submitBtn.removeAttribute('disabled');  // Enable submit button
        } else {
            errorMessage.style.display = 'inline';
            submitBtn.setAttribute('disabled', 'true');  // Disable submit button
        }
    }
</script>
</body>
</html>
